{"signature":"Ak69CTDcjkxtAOS7AJM35sV2WHokLe4wEz1AAaL47+YstRP1HumK5bipMZBV1kjB75KahXiUqWVDa0+KcRrDSTZkRrcPRLJ0hEmMoDXOO3wS0swRZxBsmmNNzALw1MA7ACqPGPUavnhzIyVHoTLKp0x/mh4rhNdKn1p1GuzBgHeRKNcLcBNfLcfnOnEBKgZSHqvYAbukA4VgDlDpug0lehenInO72hRXqkfQyzULfTX5Hl/2OcWHZZt4r+RZoCuevJ0qYe7Qc9cA2VzCseQd8MoQ0uhmlXITPtfU/LuyVAWlk3+OHIIVFC7aFtJ3NrhAiaIjPhWPq+oMFqGlVa8DtlSH8+aYVZUsf2jcUKzUzRdsGVueoH5yfhkC99BYGoMsumcJjFc+3kaFXXvIWzjoOxYgFn3isezhL1LATm6uQAlbJdlHpPqyz0Ml+8Ws6Z78QD52Laz9lbDB0Xrx27g6WuR30ZEawpju2aEdJEl7q8BjVdeCJwHVQpgRzUnqtMbgXLeDuHGTcMa8SnPrAsOR8xtTYX8Y1Kad5PuBlVmRO+YT9J/WA9LVCrNNy/1O4v1uKznn1Et8udZobbb52pFDQrnLnxWpMwCHw/zphXZsTNXKgH+2TYAw60nvKwapwIqUhmaw3XQ9Hb37tL/YW3hvNGpTG9VF6oRl0d/bY1Tmo7WG","signedBy":"XtendM3 Team","signed":1736249114020,"message":"Signed by XtendM3 Team","extension":"{\"programModules\":{\"EXT804MI\":{\"program\":\"EXT804MI\",\"triggers\":{},\"transactions\":{\"UpdMILOMADetail\":{\"sourceUuid\":\"b7137bac-4a81-484c-9cfc-bdfcc3791a9f\",\"name\":\"UpdMILOMADetail\",\"program\":\"EXT804MI\",\"description\":\"This extension updates date information in MILOMA records\",\"active\":true,\"multi\":false,\"modified\":1732787308865,\"modifiedBy\":\"HITCHO\",\"outputFields\":[],\"inputFields\":[{\"name\":\"CONO\",\"description\":\"Company\",\"length\":3,\"mandatory\":true,\"type\":\"N\"},{\"name\":\"ITNO\",\"description\":\"Item number\",\"length\":15,\"mandatory\":true,\"type\":\"A\"},{\"name\":\"BANO\",\"description\":\"Lot number\",\"length\":20,\"mandatory\":true,\"type\":\"A\"},{\"name\":\"MFDT\",\"description\":\"Manufacturing date\",\"length\":8,\"mandatory\":false,\"type\":\"N\"},{\"name\":\"REDA\",\"description\":\"Receipt date\",\"length\":8,\"mandatory\":false,\"type\":\"N\"},{\"name\":\"EXPI\",\"description\":\"Expiration date\",\"length\":8,\"mandatory\":false,\"type\":\"N\"},{\"name\":\"SEDT\",\"description\":\"Sales date\",\"length\":8,\"mandatory\":false,\"type\":\"N\"},{\"name\":\"BBDT\",\"description\":\"Best before date\",\"length\":8,\"mandatory\":false,\"type\":\"N\"}],\"utilities\":[]}},\"batches\":{}}},\"utilities\":{},\"sources\":{\"b7137bac-4a81-484c-9cfc-bdfcc3791a9f\":{\"uuid\":\"b7137bac-4a81-484c-9cfc-bdfcc3791a9f\",\"updated\":1729842370681,\"updatedBy\":\"HITCHO\",\"created\":1732787150427,\"createdBy\":\"HITCHO\",\"apiVersion\":\"0.15\",\"beVersion\":\"16.0.0.20240916174523.6\",\"codeHash\":\"C0BFECA2F2D5C567F6EE6B018969F6748104CB58ED03C4B949BEC6B4B69E742B\",\"code\":\"LyoqDQogKiBSRUFETUUNCiAqIFRoaXMgZXh0ZW5zaW9uIGlzIHVzZWQgdG8gVXBkYXRlIGRhdGVzIGluZm9ybWF0aW9uIHRvIGNyZWF0aW9uIGRhdGUgaW4gTUlMT01BLg0KICoNCiAqIE5hbWU6IFVwZE1JTE9NQURldGFpbA0KICogRGVzY3JpcHRpb246IFVwZGF0ZSByZWNvcmQgaW4gTUlMT01BDQogKiBEYXRlICAgICAgICAgIENoYW5nZWQgQnkgICAgICAgICAgRGVzY3JpcHRpb24NCiAqIDIwMjQxMDI0ICAgICAgQW1pdCBQb3dhciAgICAgICAgIEluaXRpYWwgRGV2ZWxvcG1lbnQgLSBVcGRhdGUgZGF0ZXMgaW5mb3JtYXRpb24gdG8gY3JlYXRpb24gZGF0ZSBpbiBNSUxPTUEuDQogKi8NCiANCmltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlOw0KaW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGVUaW1lOw0KaW1wb3J0IGphdmEudGltZS5mb3JtYXQuRGF0ZVRpbWVGb3JtYXR0ZXI7DQppbXBvcnQgamF2YS50aW1lLmZvcm1hdC5EYXRlVGltZVBhcnNlRXhjZXB0aW9uOw0KaW1wb3J0IGphdmEudGV4dC5TaW1wbGVEYXRlRm9ybWF0Ow0KaW1wb3J0IGphdmEudGV4dC5EYXRlRm9ybWF0Ow0KaW1wb3J0IGphdmEudGV4dC5QYXJzZUV4Y2VwdGlvbjsNCg0KcHVibGljIGNsYXNzIFVwZE1JTE9NQURldGFpbCBleHRlbmRzIEV4dGVuZE0zVHJhbnNhY3Rpb24gew0KICBwcml2YXRlIGZpbmFsIE1JQVBJIG1pOw0KICBwcml2YXRlIGZpbmFsIERhdGFiYXNlQVBJIGRhdGFiYXNlOw0KICBwcml2YXRlIGZpbmFsIFByb2dyYW1BUEkgcHJvZ3JhbTsNCiAgDQogIHByaXZhdGUgaW50IGluQ09OTzsNCiAgcHJpdmF0ZSBTdHJpbmcgaW5JVE5POw0KICBwcml2YXRlIFN0cmluZyBpbkJBTk87DQogIHByaXZhdGUgaW50IGluTUZEVDsNCiAgcHJpdmF0ZSBpbnQgaW5SRURBOw0KICBwcml2YXRlIGludCBpbkVYUEk7DQogIHByaXZhdGUgaW50IGluU0VEVDsNCiAgcHJpdmF0ZSBpbnQgaW5CQkRUOw0KICANCiAgcHVibGljIFVwZE1JTE9NQURldGFpbChNSUFQSSBtaSwgRGF0YWJhc2VBUEkgZGF0YWJhc2UsIFByb2dyYW1BUEkgcHJvZ3JhbSkgew0KICAgIHRoaXMubWkgPSBtaTsNCiAgICB0aGlzLmRhdGFiYXNlPWRhdGFiYXNlOw0KICAgIHRoaXMucHJvZ3JhbT1wcm9ncmFtOw0KICB9DQogIA0KICBwdWJsaWMgdm9pZCBtYWluKCkgew0KICAgaW5DT05PID0gIG1pLmluLmdldCgiQ09OTyIpID09IG51bGwgPyAwIDogKEludGVnZXIpbWkuaW4uZ2V0KCJDT05PIik7DQogICBpbklUTk8gPSAgbWkuaW4uZ2V0KCJJVE5PIikgPT0gbnVsbCA/ICIiIDogbWkuaW4uZ2V0KCJJVE5PIikudG9TdHJpbmcoKS50cmltKCk7DQogICBpbkJBTk8gPSAgbWkuaW4uZ2V0KCJCQU5PIikgPT0gbnVsbCA/ICIiIDogbWkuaW4uZ2V0KCJCQU5PIikudG9TdHJpbmcoKS50cmltKCk7DQogICBpbk1GRFQgPSAgbWkuaW4uZ2V0KCJNRkRUIikgPT0gbnVsbCA/IDAgOiAoSW50ZWdlciltaS5pbi5nZXQoIk1GRFQiKTsNCiAgIGluUkVEQSA9ICBtaS5pbi5nZXQoIlJFREEiKSA9PSBudWxsID8gMCA6IChJbnRlZ2VyKW1pLmluLmdldCgiUkVEQSIpOw0KICAgaW5FWFBJID0gIG1pLmluLmdldCgiRVhQSSIpID09IG51bGwgPyAwIDogKEludGVnZXIpbWkuaW4uZ2V0KCJFWFBJIik7DQogICBpblNFRFQgPSAgbWkuaW4uZ2V0KCJTRURUIikgPT0gbnVsbCA/IDAgOiAoSW50ZWdlciltaS5pbi5nZXQoIlNFRFQiKTsNCiAgIGluQkJEVCA9ICBtaS5pbi5nZXQoIkJCRFQiKSA9PSBudWxsID8gMCA6IChJbnRlZ2VyKW1pLmluLmdldCgiQkJEVCIpOw0KICANCiAgaWYoIWNoZWNrRGF0ZVZhbGlkaXR5KGluTUZEVCkpew0KICAgIG1pLmVycm9yKCIke2luTUZEVH0gaXMgYW4gaW52YWxpZCBNRkRUIik7DQogICAgcmV0dXJuOw0KICB9DQogIA0KICBpZighY2hlY2tEYXRlVmFsaWRpdHkoaW5SRURBKSl7DQogICAgbWkuZXJyb3IoIiR7aW5SRURBfSBpcyBhbiBpbnZhbGlkIFJFREEiKTsNCiAgICByZXR1cm47DQogIH0NCiAgDQogIGlmKCFjaGVja0RhdGVWYWxpZGl0eShpbkVYUEkpKXsNCiAgICBtaS5lcnJvcigiJHtpbkVYUEl9IGlzIGFuIGludmFsaWQgRVhQSSIpOw0KICAgIHJldHVybjsNCiAgfQ0KICANCiAgaWYoIWNoZWNrRGF0ZVZhbGlkaXR5KGluU0VEVCkpew0KICAgIG1pLmVycm9yKCIke2luU0VEVH0gaXMgYW4gaW52YWxpZCBTRURUIik7DQogICAgcmV0dXJuOw0KICB9DQogIA0KICBpZighY2hlY2tEYXRlVmFsaWRpdHkoaW5CQkRUKSl7DQogICAgbWkuZXJyb3IoIiR7aW5CQkRUfSBpcyBhbiBpbnZhbGlkIEJCRFQiKTsNCiAgICByZXR1cm47DQogIH0NCiAgREJBY3Rpb24gZGJBY3Rpb24gPSBkYXRhYmFzZS50YWJsZSgiTUlMT01BIikuaW5kZXgoIjAwIikuYnVpbGQoKTsNCiAgREJDb250YWluZXIgTUlMT01BID0gZGJBY3Rpb24uZ2V0Q29udGFpbmVyKCk7DQogIE1JTE9NQS5zZXQoIkxNQ09OTyIsIGluQ09OTyk7DQogIE1JTE9NQS5zZXQoIkxNSVROTyIsIGluSVROTyk7DQogIE1JTE9NQS5zZXQoIkxNQkFOTyIsIGluQkFOTyk7DQogICANCiAgQ2xvc3VyZTw/PiB1cGRhdGVNSUxPTUEgPSB7IExvY2tlZFJlc3VsdCByZWNvcmQgLT4NCiAgICAgICAgaWYoaW5NRkRUIT0wKQ0KICAgICAgICAgIHJlY29yZC5zZXQoIkxNTUZEVCIsaW5NRkRUKTsNCiAgICAgICAgaWYoaW5SRURBIT0wKQ0KICAgICAgICAgIHJlY29yZC5zZXQoIkxNUkVEQSIsaW5SRURBKTsNCiAgICAgICAgaWYoaW5FWFBJIT0wKQ0KICAgICAgICAgIHJlY29yZC5zZXQoIkxNRVhQSSIsaW5FWFBJKTsNCiAgICAgICAgaWYoaW5TRURUIT0wKQ0KICAgICAgICAgIHJlY29yZC5zZXQoIkxNU0VEVCIsaW5TRURUKTsNCiAgICAgICAgaWYoaW5CQkRUIT0wKQ0KICAgICAgICAgIHJlY29yZC5zZXQoIkxNQkJEVCIsaW5CQkRUKTsNCiAgICAgICAgaWYoaW5NRkRUIT0wIHx8IGluUkVEQSE9MCB8fCBpbkVYUEkhPTAgfHwgaW5TRURUIT0wIHx8IGluQkJEVCE9MCApew0KICAgICAgICAgIHJlY29yZC5zZXQoIkxNTE1EVCIsIExvY2FsRGF0ZVRpbWUubm93KCkuZm9ybWF0KERhdGVUaW1lRm9ybWF0dGVyLm9mUGF0dGVybigieXl5eU1NZGQiKSkudG9JbnRlZ2VyKCkpOw0KICAgICAgICAgIHJlY29yZC5zZXQoIkxNQ0hOTyIsIHJlY29yZC5nZXRJbnQoIkxNQ0hOTyIpICsgMSk7DQogICAgICAgICAgcmVjb3JkLnNldCgiTE1DSElEIiwgcHJvZ3JhbS5nZXRVc2VyKCkpOw0KICAgICAgICAgIHJlY29yZC51cGRhdGUoKTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICANCiAgICBpZiAoIWRiQWN0aW9uLnJlYWRMb2NrKE1JTE9NQSwgdXBkYXRlTUlMT01BKSkgew0KICAgICAgbWkuZXJyb3IoIlJlY29yZCBkb2VzIG5vdCBleGlzdC4gQ291bGQgbm90IHVkcGF0ZSByZWNvcmQiKTsNCiAgICAgIHJldHVybjsNCiAgICB9DQogIH0NCiAgDQogIC8qKg0KICAqIHZhbGlkYXRlIGRhdGUuIA0KICAqIEBwYXJhbSBpbnB1dERhdGUNCiAgKiBAcmV0dXJuIGJvb2xlYW4NCiAgKi8NCiAgcHVibGljIGJvb2xlYW4gY2hlY2tEYXRlVmFsaWRpdHkoaW50IGlucHV0RGF0ZSl7DQogICAgaWYoaW5wdXREYXRlPT0wKXsNCiAgICAgIHJldHVybiB0cnVlOw0KICAgIH0NCiAgICBEYXRlRm9ybWF0IGRmID0gbmV3IFNpbXBsZURhdGVGb3JtYXQoInl5eXlNTWRkIik7DQogICAgZGYuc2V0TGVuaWVudChmYWxzZSk7DQogICAgdHJ5IHsNCiAgICAgICAgRGF0ZSBkYXRlID0gZGYucGFyc2UoaW5wdXREYXRlLnRvU3RyaW5nKCkpOw0KICAgICAgICAvLyBJZiBpdCBjb21lcyBoZXJlLCB0aGVuIGl0cyBhIHZhbGlkIGZvcm1hdA0KICAgIH0gY2F0Y2ggKFBhcnNlRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgLy8gSWYgaXQgY29tZXMgaGVyZSwgdGhlbiBpdHMgbm90IGEgdmFsaWQgZGF0ZSBvZiB0aGlzIGZvcm1hdC4NCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgIH0NCiAgICByZXR1cm4gdHJ1ZTsNCiAgfQ0KfQ==\"}}}"}